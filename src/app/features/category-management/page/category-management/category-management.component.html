<div class="flex flex-col p-4">
  <div class="flex flex-row justify-between items-center gap-2">
    <p-iconfield dir="rtl" class="md:!w-[300px] !w-full">
      <p-inputicon class="pi pi-search" />
      <input type="text" pInputText placeholder="جست و جو" class="!w-full" (input)="onSearch($event)"/>
    </p-iconfield>
    <p-button label="افزودن دسته بندی" class="!w-[150px]" [fluid]="true" (onClick)="onAddCategory()"/>
  </div>
  <p-divider/>
  <p-table
    [value]="categories()"
    showGridlines
    dataKey="id" [rows]="10"
    [paginator]="true"
    scrollHeight="calc(100svh - 275px)"
  >
    <ng-template #header>
      <tr>
        <th style="width: 5%;">ردیف</th>
        <th style="width: 35%;">نام دسته بندی</th>
        <th>دسته بندی مادر</th>
        <th style="width: 10%;">اقدامات</th>
      </tr>
    </ng-template>
    <ng-template #body let-cat let-rowIndex="rowIndex">
      <tr>
        <td>{{ rowIndex + 1 }}</td>
        <td>{{ cat.categoryName }}</td>
        <td>{{ cat.mainCategory || '-' }}</td>
        <td class="flex flex-row items-center justify-around">
          <p-button icon="pi pi-user-edit" [rounded]="true" [text]="true" severity="success" size="small" (click)="onEditUser(cat)"/>
          <p-divider layout="vertical"/>
          <p-button icon="pi pi-user-minus" [rounded]="true" [text]="true" severity="danger" size="small" (click)="onDeleteUser($event, cat)"/>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

